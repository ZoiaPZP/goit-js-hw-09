{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst form = document.querySelector('.feedback-form');\nconst localStorageKey = 'feedback-form-state';\n\nform.addEventListener('input', throttle(inputHandle, 700));\nform.addEventListener('submit', submitHandle);\n\nlet dataInfo = {};\n\nreloadAll();\n\nfunction inputHandle(evt) {\n  \n  dataInfo[evt.target.name] = evt.target.value.trim();\n  localStorage.setItem(localStorageKey, JSON.stringify(dataInfo));\n};\n\nfunction reloadAll() {\n  try {\n    const saveData = localStorage.getItem(localStorageKey);\n    if (!saveData) return;\n    dataInfo = JSON.parse(saveData);\n    Object.entries(dataInfo).forEach(([key, val]) => {\n      form.elements[key].value = val;\n    });\n  } catch ({message}) {\n    console.log(message);\n  }\n};\n\nfunction submitHandle(evt) {\n  evt.preventDefault();\n\n  \n  if (!dataInfo.email || !dataInfo.message) {\n    alert('Please fill out all fields');\n    return;\n  }\n\n  console.log(dataInfo); \n  localStorage.removeItem(localStorageKey); \n  evt.currentTarget.reset(); \n  dataInfo = {}; \n}\n"],"names":["form","localStorageKey","throttle","inputHandle","submitHandle","dataInfo","reloadAll","evt","saveData","key","val","message"],"mappings":"wIAEA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAkB,sBAExBD,EAAK,iBAAiB,QAASE,EAASC,EAAa,GAAG,CAAC,EACzDH,EAAK,iBAAiB,SAAUI,CAAY,EAE5C,IAAIC,EAAW,CAAA,EAEfC,IAEA,SAASH,EAAYI,EAAK,CAExBF,EAASE,EAAI,OAAO,IAAI,EAAIA,EAAI,OAAO,MAAM,OAC7C,aAAa,QAAQN,EAAiB,KAAK,UAAUI,CAAQ,CAAC,CAChE,CAEA,SAASC,GAAY,CACnB,GAAI,CACF,MAAME,EAAW,aAAa,QAAQP,CAAe,EACrD,GAAI,CAACO,EAAU,OACfH,EAAW,KAAK,MAAMG,CAAQ,EAC9B,OAAO,QAAQH,CAAQ,EAAE,QAAQ,CAAC,CAACI,EAAKC,CAAG,IAAM,CAC/CV,EAAK,SAASS,CAAG,EAAE,MAAQC,CACjC,CAAK,CACL,OAAW,CAAC,QAAAC,CAAO,EAAG,CAClB,QAAQ,IAAIA,CAAO,CACpB,CACH,CAEA,SAASP,EAAaG,EAAK,CAIzB,GAHAA,EAAI,eAAc,EAGd,CAACF,EAAS,OAAS,CAACA,EAAS,QAAS,CACxC,MAAM,4BAA4B,EAClC,MACD,CAED,QAAQ,IAAIA,CAAQ,EACpB,aAAa,WAAWJ,CAAe,EACvCM,EAAI,cAAc,QAClBF,EAAW,CAAA,CACb"}